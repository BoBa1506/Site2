(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[18],{"0BOE":function(e,t,n){n.d(t,"a",(function(){return r}));const a={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},i=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=a[e.charAt(n)]||e.charAt(n);return t},r=(e,t,n="name")=>{const a=t.toLowerCase();return e.filter(e=>((e,t)=>{const n=t.split(" "),a=e.split(" ");let r=0;for(let s=0;s<a.length;s+=1){(i(a[s]).includes(n[r])||a[s].includes(n[r]))&&(r+=1)}return r===n.length})(e[n].toLowerCase(),a))}},"2WXK":function(e,t,n){var a=n("q1tI");let i=null,r=!1,s=0;const o=()=>{i&&clearTimeout(i),r=!0,i=setTimeout(()=>{r=!1},100)};t.a=()=>{const[e,t]=Object(a.useState)(!1),n=Object(a.useRef)(null);Object(a.useEffect)(()=>(0===s&&window.addEventListener("scroll",o),s+=1,()=>{n.current&&clearTimeout(n.current),(s-=1)||window.removeEventListener("scroll",o)}),[]);const i=e=>{n.current&&clearTimeout(n.current),n.current=e&&r?setTimeout(()=>i(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:Object(a.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},"8cMa":function(e,t,n){var a=n("q1tI"),i=n("Ye/N"),r=n("n6mq");t.a=function({type:e}){const t={group:{accessibilityLabel:i.a._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:i.a._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"lock"},secret:{accessibilityLabel:i.a._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:i.a._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return a.createElement(r.c,{marginStart:1},a.createElement(r.c,{marginStart:2},"sections"===e||"sectionsInline"===e?a.createElement(r.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:"12",color:"darkGray"}):a.createElement(r.n,{accessibilityLabel:t.accessibilityLabel,icon:t.icon,size:16,color:"darkGray"})))}},"9QW3":function(e,t,n){n.d(t,"a",(function(){return s}));const a={row:0,section:0},i={row:-1,section:-1},r=()=>void 0;class s{constructor(e){this.index=Object.assign({},a),this.sections=e,this.updateCallback=r,this.selectItem=r}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===i.row&&t===i.section?this.index=Object.assign({},a):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===i.row&&t===i.section)this.index=Object.assign({},a);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},i),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},IBrh:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n("i8i4"),r=n.n(i),s=n("mEMi"),o=(n("9QW3"),n("n6mq"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends a.Component{constructor(e,t){super(e,t),c(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),c(this,"handleIndexUpdate",e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),c(this,"handleSelectItem",e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)}),c(this,"handleMouseEnter",e=>({event:t})=>{const{disabled:n,indexManager:a}=this.props;n||a.updateIndex(e)}),c(this,"handleMouseLeave",({event:e})=>{const{disabled:t,indexManager:n}=this.props;t||n.setInactive()}),c(this,"renderItems",(e,t)=>{const{renderItem:n}=this.props,{selectedIndex:i}=this.state,{row:r,section:s}=i||{},{customProps:c={},items:l,renderItem:d}=e,{isDisabled:h=(e=>!1)}=c,u=t===s,m=d||n;return m&&l.map((e,n)=>{const i=h(e),s={section:t,row:n},l=u&&n===r;return a.createElement("div",{"data-test-id":"board-selection",key:n,ref:!i&&l&&this.setSelectedItemRef},i?m({item:e,hovered:l,sectionProps:c}):a.createElement(o.P,{onMouseEnter:this.handleMouseEnter(s),onMouseLeave:this.handleMouseLeave,onTouch:this.handleSelectItem(e),fullWidth:!1,rounding:2},m({item:e,hovered:l,sectionProps:c})))})}),c(this,"renderSections",()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map((t,n)=>a.createElement(o.c,{key:n},e&&e(t,n),this.renderItems(t,n)))});const{indexManager:n}=this.props;this.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=r.a.findDOMNode(this.selectedItemRef);if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),a=n.top,i=n.bottom,s=t.getBoundingClientRect(),o=s.top;i>=s.bottom?e.scrollIntoView(!1):a<=o&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return a.createElement(s.a,{fetchMore:n},({setRef:n,onScroll:i})=>a.createElement(o.c,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",ref:e=>{this.containerRef=e,n(e)}},this.renderSections()))}}},NdQN:function(e,t,n){var a=n("q1tI"),i=n.n(a),r=n("i8i4"),s=n.n(r),o=n("JW66"),c=n("Ye/N"),l=(n("9QW3"),n("n6mq"));t.a=class extends a.Component{constructor(...e){var t,n,a;super(...e),a=e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case o.a.KeyCode.ENTER:case o.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case o.a.KeyCode.UP:e.preventDefault(),n.prev();break;case o.a.KeyCode.DOWN:e.preventDefault(),n.next()}},(n="handleKeyDown")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}componentDidMount(){const e=this._input;if(e){const t=s.a.findDOMNode(e);if(t instanceof HTMLElement){const e=t.querySelector("input");e&&e.focus()}}}render(){const{onChange:e,value:t}=this.props;return i.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},i.a.createElement(l.D,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:c.a._("Search","search bar placeholder text","search bar placeholder text"),ref:e=>{this._input=e},size:"lg",value:t}))}}},gONw:function(e,t,n){var a=n("q1tI"),i=n.n(a),r=n("n6mq");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends a.Component{constructor(...e){super(...e),s(this,"state",{isHovering:!1}),s(this,"onHover",()=>{this.setState({isHovering:!0})}),s(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){const{name:e,selected:t,image:n,inFlyoutExp:a}=this.props;return a?i.a.createElement(r.c,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},i.a.createElement(r.c,null,i.a.createElement(r.u,{height:40,width:40,rounding:2},this.state.isHovering&&n?i.a.createElement(r.p,{alt:"",color:"",fit:"cover",naturalHeight:n.height,naturalWidth:n.width,src:n.url}):i.a.createElement(r.c,{color:"lightGray",height:40,width:40}))),i.a.createElement(r.c,{padding:2},i.a.createElement(r.m,{size:"sm"},e))):i.a.createElement(r.c,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},i.a.createElement(r.c,null,i.a.createElement(r.n,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})),i.a.createElement(r.c,{marginStart:3},i.a.createElement(r.K,{color:t?"darkGray":"gray",weight:"bold"},e)))}}var c=n("Ye/N"),l=n("U4JR"),d=n("zLLH"),h=n("oTtT");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=-1;class g extends a.Component{constructor(e){super(e),u(this,"_processSuggestions",e=>e&&e.length?e.map(e=>e.title):[]),u(this,"handleClick",e=>{const{suggestedBoardsNames:t}=this.state,{onBoardSelected:n}=this.props;n(t[e],!1),Object(l.a)(101,{component:13025,element:23})}),u(this,"handleMouseEnter",e=>{this.setState({selectedIndex:e})}),u(this,"handleMouseLeave",()=>{this.setState({selectedIndex:m})}),u(this,"renderSuggestionRow",(e,t)=>{const n=this.state.selectedIndex===t;return i.a.createElement("li",{key:t},i.a.createElement(r.P,{onTouch:()=>this.handleClick(t),onMouseEnter:()=>this.handleMouseEnter(t),onMouseLeave:this.handleMouseLeave},i.a.createElement(o,{selected:n,name:e,inFlyoutExp:this.props.inFlyoutExp,image:this.props.image})))}),this.state={selectedIndex:m,suggestedBoardsNames:this._processSuggestions(e.boards.data)}}UNSAFE_componentWillReceiveProps(e){this.setState({suggestedBoardsNames:this._processSuggestions(e.boards.data)})}componentDidUpdate(e){const{inFirstBoardCreateGestaltExp:t,boards:n,error:a,boardPickerStopwatch:i}=this.props;!e.boards.isLoaded&&n.isLoaded&&t&&i&&(a?i.error():i.stop())}renderGestaltBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;c.a._("Suggested board names","text above suggested board names list","text above suggested board names list");return i.a.createElement(r.c,null,i.a.createElement(r.c,{marginTop:5,marginStart:6,marginBottom:3},i.a.createElement(r.K,null,c.a._("Suggested board names"))),i.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}renderPreviewBoardSuggestionList(){const{suggestedBoardsNames:e}=this.state;return i.a.createElement("div",null,i.a.createElement("ul",null,e.map(this.renderSuggestionRow)))}render(){const{inFirstBoardCreateGestaltExp:e,inFlyoutExp:t,minHeight:n,boards:a}=this.props,{suggestedBoardsNames:s}=this.state;return a.isLoaded?s&&s.length?t?this.renderPreviewBoardSuggestionList():e?this.renderGestaltBoardSuggestionList():i.a.createElement(r.c,null,i.a.createElement(r.c,{marginTop:2,paddingX:5},i.a.createElement(r.K,null,c.a._("Suggested board names"))),i.a.createElement("ul",null,s.map(this.renderSuggestionRow))):null:i.a.createElement(r.c,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:n||""},i.a.createElement(r.G,{accessibilityLabel:c.a._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0}))}}t.a=Object(d.c)({name:"BoardTitleSuggestionsResource",options:({pinId:e})=>({pin_id:e}),key:"boards"})((function(e){const t=Object(h.b)();return i.a.createElement(g,Object.assign({},e,{boardPickerStopwatch:t}))}))},gdcG:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("2WXK");function s(e){return function(t){const{isHovering:n,hoverHandlers:a}=Object(r.a)();return i.a.createElement(e,Object.assign({},t,{hoverHandlers:a,isHovering:n}))}}},jdx6:function(e,t,n){n.d(t,"b",(function(){return c}));var a=n("q1tI"),i=n("8cMa"),r=n("JW66"),s=n("Ye/N"),o=n("n6mq");function c(e,t){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce((n,i,r)=>{if(n.length>0&&e&&e.length){const s=t.toLowerCase().indexOf(e.toLowerCase());return n.concat(a.createElement("em",{key:r,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},t.substring(s,s+e.length)),i)}return[i]},[]):t}t.a=function(e){const{disabled:t,item:n,isSection:l,isSelectMode:d,isWithinSectionPicker:h,saveState:u,searchQuery:m,selected:g}=e,p=l?null:n,b=l?n:null,f=b&&b.title||p&&p.name||"";let E="",y=!1,v="",w=0;p&&({image_cover_url:E,is_collaborative:y,privacy:v,section_count:w=0}=p);const S=c(m,f),x=v===r.a.BoardPrivacy.SECRET,I=!t&&(g||!!u),L=!h&&w>0,M=w>0?"boardWithSection":"boardWithoutSection",k=d?s.a._("Select","Board select button label","Board select button label"):s.a._("Save","Pin save button label","Pin save button label");return a.createElement(o.c,{alignItems:"center",color:I?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":M},p?a.createElement(o.c,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none"},E?a.createElement(o.p,{src:E,alt:f,fit:"cover",naturalWidth:1,naturalHeight:1}):a.createElement("span",null)):a.createElement(o.c,{paddingX:2}),a.createElement(o.c,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},a.createElement(o.K,{color:t?"gray":"darkGray",size:"md",truncate:!0,weight:"bold"},S),(L||!I)&&a.createElement(o.c,{alignItems:"center",display:"flex"},x&&a.createElement(i.a,{type:"secret"}),y&&a.createElement(i.a,{type:"group"}),L&&a.createElement(i.a,{type:"sections"})),!L&&I&&!u&&a.createElement(o.c,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4},!d&&a.createElement(o.c,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},a.createElement(o.n,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),a.createElement(o.K,{color:"white",overflow:"normal",size:"md",weight:"bold"},k)),!L&&I&&"loading"===u&&a.createElement(o.c,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},a.createElement(o.G,{accessibilityLabel:s.a._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0}))))}},qyR9:function(e,t,n){var a=n("q1tI"),i=n.n(a),r=n("jdx6"),s=n("gONw"),o=n("Ye/N"),c=n("gdcG"),l=n("n6mq");var d=Object(c.a)((function(e){const{buttonLabel:t,isHovering:n,isRowItem:i,hasHoverState:r,hoverHandlers:s,name:c,onClick:d}=e,h=c||t||o.a._("Create board");return a.createElement(l.P,{onMouseEnter:s.onMouseOver,onMouseLeave:s.onMouseLeave,onTouch:d},a.createElement(l.c,{alignItems:"center",color:r&&n?"lightGray":"white",display:"flex",flex:i?"shrink":"none",height:64,width:"100%"},a.createElement(l.c,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton"},a.createElement(l.n,{accessibilityLabel:o.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),c?a.createElement(l.c,{margin:1},a.createElement(l.K,{inline:!0,overflow:"normal"}," ",o.a._("Create: ")," ")):null,a.createElement(l.K,{align:"center",inline:!0,truncate:!0,weight:"bold"}," ",h," ")))})),h=n("9QW3"),u=n("NdQN"),m=n("IBrh"),g=n("oTtT");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));const b="",f=2;class E extends a.Component{constructor(...e){super(...e),p(this,"state",{searchQuery:b}),p(this,"handleSelectItem",e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})}),p(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),p(this,"renderSectionHeader",(e,t)=>e.title?i.a.createElement(l.c,null,t>0&&i.a.createElement(l.j,null),i.a.createElement(l.c,{paddingX:3,paddingY:1},i.a.createElement(l.K,{size:"md"},e.title))):null),p(this,"renderRow",({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:a,isSelectMode:s,disabledRowId:o}=this.props,{searchQuery:c}=this.state,{inSectionSelection:l=!1}=n,d=a&&a.board===e.id?a&&a.state:null,h="board_section"===e.type;return i.a.createElement(r.a,{isSelectMode:s,disabled:e.id===o&&l,item:e,isSection:h,isWithinSectionPicker:l,saveState:d,searchQuery:c,selected:t})})}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:a,isLoaded:r,onCreate:c,pinId:g}=this.props;if(r){const{searchQuery:r}=this.state,o=a(r);return this.indexManager=new h.a(o.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),i.a.createElement(l.c,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!n&&i.a.createElement(l.c,null,i.a.createElement(l.c,{paddingX:3,marginBottom:4,marginTop:1},i.a.createElement(u.a,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:r})),i.a.createElement(l.j,null)),i.a.createElement(m.a,{disabled:!!e,grow:!n&&!r,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:o}),i.a.createElement(l.j,null),c&&i.a.createElement(d,{buttonLabel:t,hasHoverState:!0,name:r,onClick:()=>c(r)}),n&&g&&i.a.createElement(s.a,{onBoardSelected:c,pinId:g}))}return i.a.createElement(l.c,{paddingY:5},i.a.createElement(l.G,{accessibilityLabel:o.a._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}function y(e){const t=Object(g.b)();return i.a.createElement(E,Object.assign({},e,{boardPickerStopwatch:t}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/18-3a970fd483f90dab68d4.mjs.map
