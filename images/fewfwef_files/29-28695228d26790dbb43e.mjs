(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[29],{"5FNA":function(e,t,a){a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d}));var r=a("qtKf"),n=a("Pqnw"),o=a("Wer7");const i=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],c={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,mixPublicSecret:t,username:a})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",username:a,page_size:25,group_by:t?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},l=(e,t,a)=>({privacy_filter:t?"secret":"public",sort:a||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),d=e=>i.reduce((t,a)=>{const i=[Object(n.a)("profileBoards",Object(r.c)(e,a))];return[!0,!1].forEach(t=>{i.push(Object(o.f)(c.name,c.options({username:e,boardOrder:a,mixPublicSecret:t})))}),t.concat(i)},[])},NjDU:function(e,t,a){function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function n(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function i(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i}))},Pqnw:function(e,t,a){function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}a.d(t,"a",(function(){return r}))},QoKk:function(e,t,a){var r=a("q1tI"),n=a.n(r),o=(a("w/op"),a("Ye/N")),i=a("rYoy"),c=a("n6mq");const l=["es-AR","es-BZ","es-BO","pt-BR","en-CA","es-CL","zh-CN","es-CO","es-CR","es-DO","es-EC","es-SV","es-GT","es-HN","zh-HK","he","en-JM","ja","en-KE","zh-MO","es-MX","es-NI","es-PA","es-PE","en-PH","es-PR","en-ZA","ko","zh-TW","en-US","es-VE"];var d=a("pLLR");const s=Object(r.lazy)(()=>a.e(16).then(a.t.bind(null,"sQeT",7))),u=(e,t)=>e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear();var _=Object(d.f)((function({onSelectedDate:e,selectedDates:t,requestContext:a}){return n.a.createElement(i.a,null,n.a.createElement(s,{calendarType:l.includes(a.locale)?"US":"ISO 8601",locale:a.locale||"",className:"DatePicker",enableHistoryView:!1,onClickDay:a=>{1===t.length&&t[0]<a?e([t[0],a]):e([a])},minDetail:"month",nextLabel:n.a.createElement(c.n,{accessibilityLabel:o.a._("Next month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to next calendar month"),icon:"arrow-forward"}),next2Label:null,prevLabel:n.a.createElement(c.n,{icon:"arrow-back",accessibilityLabel:o.a._("Previous month","BoardForm.BoardFormExperimentalDatePicker","accessibility label on arrow to go to previous calendar month")}),prev2Label:null,tileClassName:({date:e})=>{const a=[],[r,n]=t;return r&&u(e,r)?(a.push("start"),n&&a.push("rangeStart")):n&&u(e,n)?a.push("rangeEnd"):2===t.length&&e>=r&&e<=n&&a.push("inRange"),a},value:t.length?t:new Date,view:"month"}))})),b=a("TiQD");const p=356;t.a=Object(d.f)((function({dates:e,onChange:t,onToggleFlyout:a=(()=>{}),requestContext:i}){const l=Object(r.useRef)(null),[d,s]=Object(r.useState)(!1),[u,m]=Object(r.useState)(e||[]),[h,f]=u||[];let E=h&&h.toLocaleDateString(i.locale)||"";if(f){E+=" - "+u[1].toLocaleDateString(i.locale)}const y=()=>{a(),s(!d)};return n.a.createElement(r.Fragment,null,n.a.createElement("div",{style:{position:"relative"},ref:l},n.a.createElement(c.M,{autoComplete:"off",id:"boardEditDate",onChange:()=>{},onFocus:y,onKeyDown:({event:e})=>{"Backspace"===e.key&&(m([]),t([]))},placeholder:o.a._("Select start and end","BoardForm.BoardFormDateField","placeholder for input field to enter board end and start dates"),size:"lg",value:E}),n.a.createElement(c.c,{position:"absolute",top:!0,right:!0,padding:4},n.a.createElement(c.n,{color:"darkGray",icon:"calendar",accessibilityLabel:o.a._("Select date","BoardForm.BoardFormDateField","accessibility label on calendar icon")}))),d&&n.a.createElement(c.r,null,n.a.createElement(c.c,{position:"absolute",top:!0,dangerouslySetInlineStyle:{__style:{zIndex:b.a}}},n.a.createElement(c.k,{anchor:l.current,idealDirection:"down",onDismiss:y,size:p,positionRelativeToAnchor:!1},n.a.createElement(c.c,{padding:6,width:p},n.a.createElement(_,{onSelectedDate:e=>{m(e),t(e)},selectedDates:u}))))))}))},VwDf:function(e,t,a){a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));const r=e=>e.toISOString(),n=({currentEventStartDate:e,currentEventEndDate:t,initialEventStartDate:a,initialEventEndDate:n})=>{let o,i;return e&&t?(o=r(e),i=r(t)):t&&(i=r(t)),n&&!t&&(i=""),a&&!e&&(o=""),n&&r(new Date(n))===t&&(i=null),a&&r(new Date(a))===t&&(o=null),{eventEndDate:i,eventStartDate:o}}},Wrea:function(e,t,a){a.d(t,"e",(function(){return n})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d}));var r=a("Wer7");const n=(e,t)=>a=>a(Object(r.a)("BoardResource",{board_id:e,field_set_key:t})),o=e=>n(e,"pin_count"),i=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),c=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),l=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),d=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},ZE2w:function(e,t,a){a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return d}));var r=a("4dcN"),n=a("eOdZ");const o="collaborator_approve_invite";function i(e,t){return n.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function c(e,t){return n.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function l(e,t){return a=>{return n.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then(()=>{r.a.trackEvent(o,"success")}).catch(()=>r.a.trackEvent(o,"error"))}}function d(e,t,a){return t=>{const{invited_user:r,status:o,board:{id:i}}=e;return n.a.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:a,board_id:i,field_set_key:"boardEdit",invited_user_id:r.id}).callDelete({showError:!1})}}},"n+wb":function(e,t,a){var r=a("q1tI"),n=a.n(r),o=a("Ye/N"),i=a("jZhD"),c=a("xdpg"),l=a("Cufx"),d=a("n6mq");function s(e){const{body:t,img:a,onClick:n,selected:i,title:c,username:l,valid:s}=e,u=l||t;return r.createElement(d.c,{marginBottom:4},r.createElement(d.P,{onTouch:n},r.createElement(d.c,{alignItems:"center",direction:"row",display:"flex",width:"100%"},a,r.createElement(d.c,{flex:"grow",marginEnd:2,marginStart:3},r.createElement(d.c,{marginBottom:1},r.createElement(d.K,{truncate:!0,weight:"bold"},c)),r.createElement(d.K,{size:"sm",truncate:!0},u)),r.createElement(d.c,{marginStart:2},((e,t)=>l?e?r.createElement(d.n,{accessibilityLabel:o.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):r.createElement(d.c,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):r.createElement(d.d,{color:"gray",disabled:!!e||Boolean(!t),inline:!0,size:"sm",text:e?o.a._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):o.a._("Invite","Add board collaborator invite","Add board collaborator invite")}))(i,s)))))}var u=a("zLLH"),_=a("ZE2w");function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t,a){const{id:r}=e;return t===a.findIndex(e=>e.id===r)}t.a=Object(u.c)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource"},{allowStale:!1})(class extends r.Component{constructor(...e){super(...e),b(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),b(this,"isIdSelected",{}),b(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),b(this,"handleCollaboratorClick",e=>{const{id:t,type:a}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:r}=this.state,n=r.concat([e]),o="email"===a?_.c:_.d;this.props.onSelectedCollaboratorsChange({id:t,resource:o}),this.setState({selectedCollaborators:n})}),b(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(e=>{const{id:t,type:a}=e;this.isIdSelected[t]=!this.isIdSelected[t];const r="email"===a?_.c:_.d;return this.props.onSelectedCollaboratorsChange({id:t,resource:r}),null})}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,a=t||[],u=(""===e?this.state.selectedCollaborators.concat(a).filter(p):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:Object(c.g)(e)}).concat(a).filter(p)).map((e,t)=>(function(e,t,a){if("user_share_suggestion"===e.type||"user"===e.type){const n=r.createElement(l.a,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return r.createElement(s,{img:n,onClick:()=>a(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:n,valid:i}=e,l=r.createElement(d.c,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40},r.createElement(d.n,{accessibilityLabel:o.a._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})),u=Object(c.c)(o.a._("Email {{ email }}"),{email:n});let _,b;return t?(_=o.a._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),b=()=>void 0):(_=i?o.a._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):o.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),b=()=>i?a(e):void 0),r.createElement(s,{body:_,img:l,onClick:b,selected:t,title:u,valid:i})}})(e,this.isIdSelected[e.id],this.handleCollaboratorClick)).map((e,t)=>n.a.createElement("li",{key:t},e));return n.a.createElement(d.c,{direction:"column",display:"flex",height:"100%"},n.a.createElement(d.c,{paddingX:3,paddingY:2},n.a.createElement(d.K,{size:"sm"},o.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create"))),n.a.createElement(d.c,{marginBottom:4,marginTop:2,paddingX:3,width:"100%"},n.a.createElement(d.c,{flex:"grow"},n.a.createElement(i.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e},n.a.createElement(d.D,{accessibilityLabel:o.a._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:o.a._("Search by name or email"),size:"lg",value:e})))),n.a.createElement(d.c,{overflow:"scrollY",paddingX:3},n.a.createElement("ul",null,u)))}})},oN2T:function(e,t,a){a.d(t,"b",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"l",(function(){return E})),a.d(t,"g",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return S})),a.d(t,"k",(function(){return D})),a.d(t,"i",(function(){return C})),a.d(t,"j",(function(){return O})),a.d(t,"e",(function(){return A}));var r=a("4dcN"),n=a("Pqnw"),o=a("7w6Q"),i=a("eOdZ"),c=a("KFEb"),l=a("5FNA"),d=a("NjDU"),s=a("Wer7");const u="board_create",_="board_delete",b="board_edit";function p(e,t){return Object(s.a)("BoardResource",{board_id:e,field_set_key:t})}function m(){return(e,t)=>{const{viewer:a}=t();a.isAuth&&Object(l.b)(a.username).forEach(t=>{e(t)})}}function h(e){const t={...e};return a=>(a({type:"BOARD_CREATE",payload:{board:e}}),i.a.create("BoardResource",t).callCreate().then(e=>{r.a.trackEvent(u,"success");const n=e.resource_response.data;return n&&(a(m()),a(function(e={},t,a){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:a}}(t,n))),n}).catch(e=>{throw r.a.trackEvent(u,"error"),e}))}function f(e={},t,a){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:a}}function E(e){return t=>{const a=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},n={board_id:e.id,name:e.name,description:e.description,category:e.category,event_date:e.event_date,event_start_date:e.event_start_date,collaborator_permission_setting:e.collaborator_permission_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...a};return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:n}}),i.a.create("BoardResource",n).callUpdate().then(a=>{r.a.trackEvent(b,"success");const o=a&&a.resource_response&&a.resource_response.data||e;t(f(n,o))}).catch(e=>{throw r.a.trackEvent(b,"error"),e})}}function y(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function g(e){return(t,a)=>{const n=a().boards.content[e],{pin_count:o}=n,{id:c}=n.owner;return t({type:"BOARD_DELETE",payload:{boardId:e}}),i.a.create("BoardResource",{board_id:e}).callDelete().then(()=>{r.a.trackEvent(_,"error"),t(y(e)),t(Object(d.b)({userId:c,increment:-o}))}).catch(e=>{throw r.a.trackEvent(_,"error"),e})}}function v(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function S(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callUpdate())}function D(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callDelete())}function C(e,t){return a=>i.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then(()=>Promise.all([a(y(e)),a(p(t,"pin_count")),a(Object(n.a)(c.a.BOARD_SECTIONS,t))]))}function O(e,t){return a=>i.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then(e=>{if(!e||!e.resource_response){return a({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}const r=e.resource_response.data||{},n=(r.model||{}).custom_properties||{},{campaign_id:i="unknown"}=n,c=r.display_data||{},l={isSocialSeasonalBoard:!!r.display_data,socialHeaderBgImage:c.header_image,socialHeaderBgColor:c.header_background_color,textIconColor:c.text_icon_color};return o.a.increment(`web.seasonal_board.${i}.${t}.land`),a({type:"SET_SOCIAL_SEASONAL_BOARD",payload:l})})}function A(){return e=>{return e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}}},"w/op":function(e,t,a){}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/js/29-28695228d26790dbb43e.mjs.map
